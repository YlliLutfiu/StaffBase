<div class="departments-container">
  
  @if (user?.userRole == 'user') {
    <div class="button-container">
      <button class="add-department-btn" (click)="sendToCreateDepartment()">Add Department</button>
      <button class="add-department-btn" (click)="exportToPDF()">Export to PDF</button>
    </div>
  }
  
  <table class="departments-table">
    <thead>
      <tr>
        <th>Name</th>
        <th>Manager</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let department of departments | paginate: { itemsPerPage: itemsPerPage, currentPage: p }">
        <td>{{ department.department_name }}</td>
        <td>{{ department.manager_name || 'N/A' }}</td>
        <td><button class="edit-btn" (click)="openEditModal(department.department_id)">Edit</button></td>
      </tr>
    </tbody>
  </table>

  <div id="paginationCtrl">
    <pagination-controls (pageChange)="p = $event"></pagination-controls>
  </div>
</div>